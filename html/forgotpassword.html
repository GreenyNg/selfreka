<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>forgot password</title>
    <link rel="stylesheet" href="../css/onboarding.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <main class="onboarding-main">
        <div class="password-hero-sect">
            <img src="../assets/forgot-password-hero.png" alt="forgot password image" id="forgot-password-img">
        </div>
        <div class="passwordonboarding-sect">
            <div class="home-div">
                <img src="../assets/logo.png" alt="selfreka logo">
                <img src="../assets/ant-design_home-filled.svg" alt="">
            </div>
            <div class="resetpopup">
                <h1>Forgot your password?</h1>
                <p>It’s okay if you forgot your password, Click on the button</p>
                <p>below to<a> reset your password</a></p>
                <div><button id="resetbtn">Reset Password</button></div>
            </div>
            <div class="resetpopup2">
                <h1>Reset password?</h1>
                <p id="resetp">We’ll send you an email with instructions on how to <br>reset
                    your password.</p>
                <div id="email-div">
                    <input type="email" name="email" id="email" placeholder="Email Address" class="input">
                </div>
                <div id="code-div">
                    <input type="text" name="code" id="code" placeholder="Enter code sent to your mail" class="input">
                </div>
                <div class="end">
                    <i class="fa-solid fa-chevron-left" style="font-size: 12px;"></i>
                    <small>Go back to <a href="../html/login.html">Sign In</a></small>
                </div>
                <div>
                    <button id="sendcodebtn">Send Code</button>
                    <button id="sendbtn">Send</button>
                    <button id="resetbtn2">Reset password</button>
                </div>
            </div>
            <div class="newpassword-div">
                <h1>Reset password?</h1>
                <div>
                    <input type="password" name="password" id="password" placeholder="New password" class="input">
                </div>
                <div>
                    <input type="password" name="newpassword" id="newpassword" placeholder="Confirm New password"
                        class="input">
                </div>
                <div>
                    <button id="resetbtn3">Reset Password</button>
                </div>
            </div>
            <div class="successpopup">
                <h1>Successful password reset</h1>
                <a href="../html/login.html">You can now use your new password</a>
                <p>to login your account</p>
                <div><button id="successloginbtn">Login</button></div>
            </div>
        </div>
    </main>
</body>
<script>
    let resetbtn = document.querySelector('#resetbtn')
    let imgswitch = document.querySelector('#forgot-password-img')
    let resetpopup = document.querySelector('.resetpopup')
    let resetpopup2 = document.querySelector('.resetpopup2')
    let resetpopup2p = document.querySelector('#resetp')
    let emailinput = document.querySelector('#email-div')
    let codeinput = document.querySelector('#code-div')
    let sendcodebtn = document.querySelector('#sendcodebtn')
    let sendbtn = document.querySelector('#sendbtn')
    let resetbtn2 = document.querySelector('reset')
    let newpassworddiv = document.querySelector('.newpassword-div')
    let resetbtn3 = document.querySelector('#resetbtn3')
    let successpopup = document.querySelector('.successpopup')

    // reset section
    resetbtn.addEventListener('click', e => {
        imgswitch.src = '../assets/reset-hero.png'
        imgswitch.style.width = '58%'
        resetpopup.style.display = 'none'
        resetpopup2.style.display = 'flex'
    })

    // send code section
    sendcodebtn.addEventListener('click', e => {
        emailinput.style.display = 'none'
        codeinput.style.display = 'flex'
        resetpopup2p.innerHTML = 'Pls enter the code you received through email here'
        sendcodebtn.style.display = 'none'
        sendbtn.style.display = 'inline-block'
        resetbtn2.style.display = 'none'
    })

    // send section
    sendbtn.addEventListener('click', e => {
        imgswitch.src = '../assets/success-tick.png'
        resetpopup2.style.display = 'none'
        newpassworddiv.style.display = 'flex'
    })
    
    // success popup
    resetbtn3.addEventListener('click', e => {

    let password = document.querySelector('password')
    text = password.textContent

    let newpassword = document.querySelector('#newpassword')
    newtext = newpassword.textContent

        if(text == newtext){
            imgswitch.src = '../assets/reset-hero.png'
            newpassworddiv.style.display = 'none'
            successpopup.style.display = 'flex'
            }
    })
    // login redirect function
    successloginbtn.addEventListener('click', e=>{
        const redirectUrl = 'login.html';
        window.location.href = redirectUrl;
    })
</script>

</html>